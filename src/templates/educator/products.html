{% extends "educator/base.html" %}
{% block rightcontent %}
<div class="container table-container table-responsive">
    <h2 class="mb-4">Products</h2>

    <!-- Products Table -->
    <table id="productTable" class="table table-hover table-sm  table-flush">
        <thead>
            <tr>
                <th>#</th>
                <th>Image</th>
                <th>Name</th>
                <th>Category</th>
                <th>Price (â‚¹)</th>
                <th>Created At</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td><a href="{{ product.get_absolute_url }}"> <!-- Make image clickable to product URL -->
                    <img src="{{ product.thumbnail.url }}" alt="{{ product.name }}" style="width: 50px; height: 70px;">
                </a></td>
                <td>{{product.title}}</td>
                <td>{{product.category}}</td>
                <td>{{product.price|floatformat:"0"}}</td>
                <td>{{product.created_at}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Initialize DataTables -->
<script>
    $(document).ready(function() {
        $('#productTable').DataTable({
            "paging": true,    // Enable pagination
            "searching": true, // Enable search box
            "ordering": true,  // Enable sorting
            "info": true,       // Show information summary
            "scrollY": "400px", // Vertical scroll (adjust height as needed)
            "scrollCollapse": true, // Collapse the table when fewer rows
        });
    });
</script>

{% endblock rightcontent %}