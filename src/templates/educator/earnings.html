{% extends "educator/base.html" %}
{% block rightcontent %}
<div class="container table-container">
    <h2 class="mb-4">Earning</h2>

    <!-- Products Table -->
    <table id="productTable" class="table table-hover">
        <thead>
            <tr>
                <th>#</th>
                <th>Item</th>
                <th>Quantity Sold</th>
                <th>Total Earning</th>
                <th>Updated At</th>
                <th>Payment Status</th>
                <th>Payment Date</th>
            </tr>
        </thead>
        <tbody>
            {% for earning in earnings %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td><a href="{{ earning.item.get_absolute_url }}"> <!-- Make image clickable to product URL -->
                    <img src="{{ earning.item.thumbnail.url }}" alt="{{ earning.item.name }}" style="width: 50px; height: 70px;">
                </a></td>
                <td>{{earning.quantity_sold}}</td>
                <td>{{earning.total_earning}}</td>
                <td>{{earning.modified_at}}</td>
                <td>{{earning.paid}}</td>
                <td>{{earning.payment_date}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Initialize DataTables -->
<script>
    $(document).ready(function() {
        $('#productTable').DataTable({
            "paging": true,    // Enable pagination
            "searching": true, // Enable search box
            "ordering": true,  // Enable sorting
            "info": true       // Show information summary
        });
    });
</script>

{% endblock rightcontent %}